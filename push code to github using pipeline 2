pipeline {
    agent any
        
    stages {
        stage('Build') {
            steps {
             sh'''
               git config --global user.email "sushantpedhapalli@gmail.com"
               git config --global user.name "sushant"
               git clone https://github.com/Mani9257/Inglibrary.git
               cd Inglibrary
               git checkout develop
               git branch
               git pull https://github.com/Mani9257/Inglibrary.git master
               git fetch https://github.com/Mani9257/Inglibrary.git develop
               cat .git/HEAD
               '''
            }
        }
        stage('push'){
            environment {
                GIT_AUTH = credentials('git') 
            }
            steps{
              sh'''
                cd Inglibrary
                git branch
                git push https://${GIT_AUTH_USR}:${GIT_AUTH_PSW}@github.com/Mani9257/Inglibrary.git develop
                cd .. &&  rm -rf *
               '''
            }
        }
    }
}
